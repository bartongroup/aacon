

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Web Application Archive (WAR) &mdash; AACon 1.1 documentation</title>
  

  
  
  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  

  
        <link rel="index" title="Index"
              href="genindex.html"/>
        <link rel="search" title="Search" href="search.html"/>
    <link rel="top" title="AACon 1.1 documentation" href="index.html"/>
        <link rel="next" title="Virtual Appliance (VA)" href="va.html"/>
        <link rel="prev" title="Command Line Client (CLI)" href="client.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> AACon
          

          
          </a>

          
            
            
              <div class="version">
                1.1
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="getting_started.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="included_tools.html">Included Tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="client.html">Command Line Client (CLI)</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Web Application Archive (WAR)</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#installing">Installing</a></li>
<li class="toctree-l2"><a class="reference internal" href="#usage">Usage</a></li>
<li class="toctree-l2"><a class="reference internal" href="#troubleshooting">Troubleshooting</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="va.html">Virtual Appliance (VA)</a></li>
<li class="toctree-l1"><a class="reference internal" href="advanced.html">Advanced Usage</a></li>
<li class="toctree-l1"><a class="reference internal" href="develop.html">For Developers</a></li>
<li class="toctree-l1"><a class="reference internal" href="stats.html">Usage Statistics</a></li>
<li class="toctree-l1"><a class="reference internal" href="citations.html">Citations</a></li>
<li class="toctree-l1"><a class="reference internal" href="changelog.html">Changelog</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">AACon</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>Web Application Archive (WAR)</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/war.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="web-application-archive-war">
<h1>Web Application Archive (WAR)<a class="headerlink" href="#web-application-archive-war" title="Permalink to this headline">¶</a></h1>
<p>JABAWS Web Application aRchive can run on any host operating system that supports <a class="reference external" href="http://www.oracle.com/technetwork/java/javase/downloads/jre7-downloads-1880261.html">Java</a> and <a class="reference external" href="http://tomcat.apache.org/download-80.cgi">Apache-Tomcat</a>. JABAWS requires a Java web application server compliant with version 2.4 of the Java Servlet specification, and a <a class="reference external" href="http://www.oracle.com/technetwork/java/javase/downloads/jre7-downloads-1880261.html">Java</a> 7 runtime environment. We recommend using an official Oracle Java 7 runtime environment, and <a class="reference external" href="http://tomcat.apache.org/download-80.cgi">Apache-Tomcat</a> web application server version 8.5, but older Tomcat versions above 5.5 will work too.</p>
<div class="admonition danger">
<p class="first admonition-title">Danger</p>
<p class="last">The JABAWS WAR is not generally compatible with older Mac systems based on the PowerPC architecture, since Java 1.7 is not available to run JABAWS.</p>
</div>
<p>However JABAWS depends on a number of third party programs which are not available for all operating systems. In particular, not all web services are currently available for MS Windows platform. JABAWS comes with pre-compiled MS Windows and Linux x86 binaries, as well as the source code and build scripts necessary to recompile them.</p>
<p>To run JABAWS on the cluster you must have shared disk space accessible from all cluster nodes.</p>
<hr class="docutils" />
<div class="section" id="installing">
<span id="war-installing"></span><h2>Installing<a class="headerlink" href="#installing" title="Permalink to this headline">¶</a></h2>
<div class="admonition tip">
<p class="first admonition-title">Tip</p>
<p class="last">Check if you are running the recommended versions of Java and Apache-Tomcat.</p>
</div>
<p>JABAWS is distributed as a web application archive (WAR). To deploy JABAWS in <a class="reference external" href="http://tomcat.apache.org/download-80.cgi">Apache-Tomcat</a> - simply drop the war file into the webapps directory of a running Tomcat, and it will do the rest. If you used this deployment procedure, do not remove the Jabaws WAR file, otherwise Tomcat will undeploy your application! The context path for your deployed application will be the same as the name of the war file. For example, assuming the Tomcat server is running on the <code class="docutils literal"><span class="pre">localhost:8080</span></code> and <em>jaba.war</em> file is put into the <code class="docutils literal"><span class="pre">&lt;tomcat</span> <span class="pre">server</span> <span class="pre">root&gt;/webapps</span></code> directory, the deployed application from the jabaws.war file then can be accessed by this URL <code class="docutils literal"><span class="pre">http://localhost:8080/jabaws</span></code>.</p>
<p>For any other web application server, please follow your server&#8217;s specific deployment procedure for &#8216;WAR&#8217; files. If you install JABAWS on a MS Windows machine, then at this point your JABAWS installation will already be up and running, and you can try its services out as described here in the <a class="reference external" href="advanced.html#testing-the-jabaws-server">documentation</a>. If you install JABAWS on Linux you will need to compile the binaries for your system and set an executable flag for binaries (<a class="reference external" href="advanced.html#pre-compiled-binaries">more details here</a> and <a class="reference external" href="advanced.html#recompiling-binaries-for-your-system">here</a>).</p>
<hr class="docutils" />
</div>
<div class="section" id="usage">
<span id="war-usage"></span><h2>Usage<a class="headerlink" href="#usage" title="Permalink to this headline">¶</a></h2>
<p><strong>Running many JABAWS instances on the same server</strong></p>
<p>JABAWS is supplied as a Web Application aRchive which can be dealt with as any other web applications. So it is perfectly possible to run two JABAWS instances from the same server. Just make two different contexts on your application server and unpack JABAWS in both of them. For example if your server name is <a class="reference external" href="http://www.align.ac.uk">http://www.align.ac.uk</a>, and the context names are public and private. Than one group of users could be given a URL <a class="reference external" href="http://www.align.ac.uk/public">http://www.align.ac.uk/public</a> and another <a class="reference external" href="http://www.align.ac.uk/private">http://www.align.ac.uk/private</a>. These contexts will be served by two independent JABAWS instances, and could be configured differently. If you keep local engine enabled, make sure you reduce the number of threads local engine is allowed to use to avoid overloading the server. Alternatively two completely separate web application server instances (e.g. Apache-Tomcat) could be used. This will give you a better resilience and more flexibility in memory settings.</p>
<p><strong>JABAWS on a single server</strong></p>
<p>You can run JABAWS on a single server. Obviously the capacity will be limited, but it may be sufficient for a small lab. Installed on a single server, JABAWS executes tasks in parallel, so the more cores the server has the more requests it will be able to handle.</p>
<p><strong>JABAWS supported cluster batch management systems</strong></p>
<p>JABAWS uses <a class="reference external" href="http://www.drmaa.org/">DRMAA</a> v1.0 library to send and manage jobs on the cluster. DRMAA supports many different cluster job management systems. Namely Sun Grid Engine, Condor, PBS, GridWay, Globus 2/4, PBSPro, LSF. For up to date information please consult DRMAA web site. We found that DRMAA implementation differ from platform to platform and were trying to use only the basic functions. We have only tested JABAWS on Sun Grid Engine v 6.2. Please let use know if you have any experience of running JABAWS on other platforms.</p>
<hr class="docutils" />
</div>
<div class="section" id="troubleshooting">
<span id="war-troubleshooting"></span><h2>Troubleshooting<a class="headerlink" href="#troubleshooting" title="Permalink to this headline">¶</a></h2>
<p><strong>If Apache-Tomcat fails to deploy jabaws.war file:</strong></p>
<ul class="simple">
<li>Make sure Tomcat has sufficient access rights to read your war file.</li>
<li>Restart the Tomcat, sometimes it will not restart after the new war file is added without restart</li>
<li>If Tomcat still refuses to unpack the war file, unpack it manually into web application folder (the war file is just a zip archive). Restart the Tomcat.</li>
</ul>
<p><strong>If Tomcat undeployes your application:</strong></p>
<p>If the war file is automatically removed by Tomcat use an explicit application descriptor. Add a context descriptor file into <code class="docutils literal"><span class="pre">&lt;tomcatRoot&gt;conf/Catalina/localhost</span></code> directory. Name your context file the same as your application folder e.g. if your JABAWS resides in <code class="docutils literal"><span class="pre">webapps/jabaws</span></code> folder, then call the context file jabaws.xml. Below is an example of content this file might have.</p>
<div class="highlight-xml"><div class="highlight"><pre><span></span><span class="cp">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span>
<span class="nt">&lt;Context</span> <span class="na">antiResourceLocking=</span><span class="s">&quot;false&quot;</span> <span class="na">privileged=</span><span class="s">&quot;true&quot;</span> <span class="nt">/&gt;</span>
</pre></div>
</div>
<p>This should be sufficient to prevent Tomcat from removing your JABAWS from WEBAPPS. For more information about the Tomcat deployer read this documentation on the Apache-Tomcat web site.</p>
</div>
</div>


           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="va.html" class="btn btn-neutral float-right" title="Virtual Appliance (VA)" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="client.html" class="btn btn-neutral" title="Command Line Client (CLI)" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p><a href="../">AACon 1.1</a>
        &copy; Copyright 2017, Peter Troshin, Agnieszka Golicz, David Martin, Fábio Madeira and Geoff Barton.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'1.1',
            LANGUAGE:'None',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>